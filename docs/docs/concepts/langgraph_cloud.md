_한국어로 기계번역됨_

# 클라우드 SaaS

!!! 정보 "전제 조건"
    - [LangGraph 플랫폼](./langgraph_platform.md)
    - [LangGraph 서버](./langgraph_server.md)

## 개요

LangGraph의 클라우드 SaaS는 LangGraph 서버를 배포하기 위한 관리 서비스로서, 정의나 종속성에 관계없이 사용할 수 있습니다. 이 서비스는 체크포인터와 저장소에 대한 관리 구현을 제공하여 사용 사례에 적합한 인지 아키텍처 구축에 집중할 수 있도록 도와줍니다. 확장 가능하고 안전한 인프라를 처리함으로써 LangGraph 클라우드 SaaS는 LangGraph 서버를 프로덕션에 배포하는 가장 빠른 경로를 제공합니다.

## 배포

**배포**는 LangGraph 서버의 인스턴스입니다. 단일 배포는 여러 [개정판](#revision)을 가질 수 있습니다. 배포가 생성될 때 필요한 모든 인프라(예: 데이터베이스, 컨테이너, 비밀 저장소)가 자동으로 프로비저닝됩니다. 자세한 내용은 아래의 [아키텍처 다이어그램](#architecture)을 참조하십시오.

리소스 할당:

| **배포 유형** | **CPU** | **메모리** | **스케일링**         |
|---------------|---------|------------|---------------------|
| 개발          | 1 CPU   | 1 GB       | 최대 1 컨테이너    |
| 프로덕션      | 2 CPU   | 2 GB       | 최대 10 컨테이너   |

새 배포를 생성하는 방법은 [가이드](../cloud/deployment/cloud.md#create-new-deployment)를 참조하십시오.

## 개정판

개정판은 [배포](#deployment)의 반복판입니다. 새로운 배포가 생성되면 초기 개정판이 자동으로 생성됩니다. 새로운 코드 변경 사항을 배포하거나 환경 변수 구성을 업데이트하려면 새로운 개정판을 생성해야 합니다. 개정판이 생성되면 새로운 컨테이너 이미지가 자동으로 빌드됩니다.

새 개정판을 생성하는 방법은 [가이드](../cloud/deployment/cloud.md#create-new-revision)를 참조하십시오.

## 지속성

각 배포에 대해 전용 데이터베이스가 자동으로 생성됩니다. 이 데이터베이스는 배포를 위한 [지속성 계층](../concepts/persistence.md) 역할을 합니다.

LangGraph 클라우드 SaaS에 배포할 그래프를 정의할 때, 사용자가 [체크포인터](../concepts/persistence.md#checkpointer-libraries)를 구성해서는 안 됩니다. 대신 그래프에 대한 체크포인터가 자동으로 구성됩니다.

데이터베이스에 대한 직접 접근은 없습니다. 데이터베이스에 대한 모든 접근은 LangGraph 서버 API를 통해 이루어집니다.

## 자동 확장

`프로덕션` 유형 배포는 자동으로 최대 10개의 컨테이너로 확장됩니다. 스케일링은 단일 컨테이너에 대한 현재 요청 부하를 기반으로 합니다. 구체적으로, 자동 확장 구현은 각 컨테이너가 약 10개의 동시 요청을 처리하도록 배포를 확장합니다. 예를 들어...

- 배포가 20개의 동시 요청을 처리하는 경우, 배포는 1개의 컨테이너에서 2개의 컨테이너로 확장됩니다(20 요청 / 2 컨테이너 = 컨테이너당 10 요청).
- 2개의 컨테이너가 10개의 요청을 처리하고 있는 경우, 배포는 2개의 컨테이너에서 1개의 컨테이너로 축소됩니다(10 요청 / 1 컨테이너 = 컨테이너당 10 요청).

컨테이너당 10개의 동시 요청은 목표 임계값입니다. 그러나 컨테이너당 10개의 동시 요청은 엄격한 제한이 아닙니다. 갑작스러운 요청의 폭증이 발생하면 동시 요청 수는 10을 초과할 수 있습니다.

축소 작업은 어떤 작업이 수행되기 전에 30분 동안 지연됩니다. 즉, 자동 확장 구현이 배포를 축소하기로 결정하면 먼저 30분을 기다린 후 축소합니다. 30분 후, 동시성 메트릭이 재계산되고 동시성 메트릭이 목표 임계값을 충족하면 배포가 축소됩니다. 그렇지 않으면 배포는 그대로 유지됩니다. 이 "쿨다운" 기간은 배포가 너무 자주 확장 및 축소되지 않도록 보장합니다.

미래에는 자동 확장 구현이 백그라운드 실행 대기열 크기와 같은 다른 메트릭을 수용하도록 발전할 수 있습니다.

## 비동기 배포

[배포](#deployment) 및 [개정판](#revision)에 대한 인프라는 비동기적으로 프로비저닝되고 배포됩니다. 제출 후 즉시 배포되지 않습니다. 현재 배포는 몇 분이 걸릴 수 있습니다.

- 새로운 배포가 생성되면 배포를 위한 새로운 데이터베이스가 생성됩니다. 데이터베이스 생성은 일회성 단계입니다. 이 단계는 배포의 초기 개정판에 대해 더 긴 배포 시간을 초래합니다.
- 배포에 대한 후속 개정판이 생성될 때는 데이터베이스 생성 단계가 없습니다. 후속 개정판의 배포 시간은 초기 개정판의 배포 시간에 비해 크게 빨라집니다.
- 각 개정판의 배포 프로세스에는 몇 분이 걸릴 수 있는 빌드 단계가 포함되어 있습니다.

## LangSmith 통합

각 배포를 위해 자동으로 [LangSmith](https://docs.smith.langchain.com/) 추적 프로젝트가 생성됩니다. 추적 프로젝트의 이름은 배포와 동일합니다. 배포를 생성할 때 `LANGCHAIN_TRACING_V2`와 `LANGCHAIN_API_KEY` 환경 변수를 지정할 필요가 없으며, 이들은 내부적으로 자동으로 설정됩니다. 각 실행에 대해 추적이 생성되며, 자동으로 추적 프로젝트에 전송됩니다.

배포가 삭제되면 추적 및 추적 프로젝트는 삭제되지 않습니다.

## 자동 삭제

배포는 28일간 연속으로 사용되지 않으면 자동으로 삭제됩니다(사용되지 않는 상태). 배포가 28일간 연속으로 LangSmith에 추적을 전송하지 않으면 사용되지 않는 상태입니다. 특정 날에 배포가 LangSmith에 추적을 전송하면 사용되지 않은 연속 일수 카운터가 리셋됩니다.

- 7일간 연속 사용되지 않을 경우 이메일 알림이 전송됩니다.
- 28일간 연속 사용되지 않을 경우 배포가 삭제됩니다.

!!! 위험 "데이터 복구 불가"
    배포가 삭제된 후, 배포의 데이터(즉, [지속성](#persistence))는 복구할 수 없습니다.

## 아키텍처

!!! 경고 "변경될 수 있습니다"
    클라우드 SaaS 배포 아키텍처는 미래에 변경될 수 있습니다.

클라우드 SaaS 배포의 고수준 다이어그램입니다.

![다이어그램](img/langgraph_cloud_architecture.png)

## 관련 문서

- [배포 옵션](./deployment_options.md)
